Title: Epic 2, Story 1: Set Up Basic Authentication (User Registration & Login)

Goal: To implement the user registration and login functionality, allowing users to create an account and receive a JWT for session management.

User Story: As a user of the Admin Portal, I want to be able to register for a new account and log in with my credentials so that I can access my protected dashboard.

Requirements:

Create an AuthModule in NestJS.

Implement a /auth/register endpoint that:

Accepts email and password.

Hashes the password using bcrypt.

Creates a new User in the database.

Implement a /auth/login endpoint that:

Accepts email and password.

Validates credentials against the database.

Generates and returns a JSON Web Token (JWT) if successful.

Use the @nestjs/jwt package for JWT management.

Set up a JwtStrategy and an AuthGuard to protect future endpoints.

Store JWT secret and expiration in environment variables.

Acceptance Criteria:

A POST request to /auth/register with valid data creates a new user and returns a 201 status.

Registering with a duplicate email returns an appropriate error (e.g., 409 Conflict).

A POST request to /auth/login with correct credentials returns a JWT accessToken.

A POST request to /auth/login with incorrect credentials returns a 401 Unauthorized error.

The user's password in the database is a hash, not plaintext.

Technical Context:

Endpoints: POST /auth/register, POST /auth/login

Password Hashing: bcrypt

Authentication: JWT (@nestjs/jwt, @nestjs/passport, passport-jwt)

Data Models: User

Environment Variables: JWT_SECRET, JWT_EXPIRATION_TIME

Testing Requirements:

Create e2e tests for the /auth/register and /auth/login endpoints, covering both success and failure scenarios.