Title: Epic 1, Story 3: Implement Core Data Models

Goal: To define and create the database tables for User, Configuration, and ApiKey based on the approved Prisma schema.

User Story: As a developer, I want to implement the approved data models in the Prisma schema and apply them to the database so that the core data structure of the application is established.

Requirements:

Translate the approved data models into the prisma/schema.prisma file.

The schema must include models for User, Configuration, and ApiKey with all specified fields and relations.

Generate a new database migration using Prisma Migrate.

Apply the migration to the development database to create the tables.

Regenerate the Prisma Client to include the new, type-safe models.

Acceptance Criteria:

The prisma/schema.prisma file contains the correct definitions for all three models.

npx prisma migrate dev --name "init-core-models" runs successfully and creates a new migration file.

The database schema in the PostgreSQL instance matches the models defined in the Prisma schema.

The Prisma Client is updated, and the types (User, Configuration, etc.) are available for use in the NestJS application.

Technical Context:

Prisma Schema:

Code snippet

model User {
  id            String   @id @default(cuid())
  email         String   @unique
  password      String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  configuration Configuration?
}

model Configuration {
  id            String @id @default(cuid())
  faqText       String @db.Text
  widgetColor   String @default("#007bff")
  openAiApiKey  String
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  userId        String   @unique
  user          User     @relation(fields: [userId], references: [id])
  apiKey        ApiKey?
}

model ApiKey {
  id              String   @id @default(cuid())
  key             String   @unique
  status          String   @default("ACTIVE")
  createdAt       DateTime @default(now())
  configurationId String   @unique
  configuration   Configuration @relation(fields: [configurationId], references: [id])
}
Testing Requirements:

No direct tests are needed for this story, as it's a schema definition task. Validation is done through the successful application of the migration.